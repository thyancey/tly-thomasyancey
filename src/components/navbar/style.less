@import "~themes/variables.less";

@blob-bar-background: url("~images/dividers/blackblob1.png") repeat-x;
@blob-bar-height: 13rem;
@blob-bar-offset: 12rem;
@blob-bar-width: 1390px;
@blob-bar-scale: 1;


.nav-bar{
  z-index:2;

  &.position-floating{
    position:absolute;
    height:20rem;
    margin-top:-10rem;
  }
  &.position-bottom{
    position:fixed;
    bottom:0;
    height:12rem;
  }
  &.position-top{
    position:fixed;
    top:0;
    height:12rem;
  }

  &.position-bottom, &.position-top{
    @blob-bar-scale: .4;

    .nav-bar-slide{
      background: @blob-bar-background;
      background-size: auto 100%;
      height: calc(@blob-bar-scale * @blob-bar-height);
      width: calc(@blob-bar-scale * 7 * @blob-bar-width);

      @keyframes tiny-slideleft {
        from {
          left: 0px;
        }
        to {
          left: calc(@blob-bar-scale * -@blob-bar-width);
        }
      }

      &.mod-top{
        top: calc(@blob-bar-scale * -@blob-bar-offset);
        animation-name: tiny-slideleft;
      }


      @keyframes tiny-slideright {
        from {
          left: calc(@blob-bar-scale * -@blob-bar-width);
        }
        to {
          left: 0px;
        }
      }

      &.mod-bottom{
        left: calc(@blob-bar-scale * -@blob-bar-width);
        bottom: calc(@blob-bar-scale * -@blob-bar-offset);

        animation-name: tiny-slideright;
      }
    }
  }
}



.nav-bar{
  width:100%;
  height:20rem;
  background-color:@color-black;
  position:relative;

  .nav-bar-text{
    padding-top:1rem;
    padding-left:3rem;

    h1{
      color:@color-blue;
    }
    h2{
      color:@color-white;
    }
  }



  .nav-bar-slide{
    @blob-bar-scale: 1;
    background: @blob-bar-background;
    background-size: auto 100%;
    height: calc(@blob-bar-scale * @blob-bar-height);
    width: calc(@blob-bar-scale * 3 * @blob-bar-width);
    position:absolute;
    pointer-events:none;
    z-index:-1;

    animation-duration: 20s;
    animation-iteration-count: infinite;
    animation-timing-function: linear;
    animation-direction: normal;

    @keyframes slideleft {
      from {
        left: 0px;
      }
      to {
        left: calc(@blob-bar-scale * -@blob-bar-width);
      }
    }

    &.mod-top{
      left:0px;
      top: calc(@blob-bar-scale * -@blob-bar-offset);

      animation-name: slideleft;
    }


    @keyframes slideright {
      from {
            left: calc(@blob-bar-scale * -@blob-bar-width);
      }
      to {
        left: 0px;
      }
    }

    &.mod-bottom{
      left: calc(@blob-bar-scale * -@blob-bar-width);
      bottom: calc(@blob-bar-scale * -@blob-bar-offset);
      animation-name: slideright;

      -moz-transform: scaleY(-1);
      -o-transform: scaleY(-1);
      -webkit-transform: scaleY(-1);
      transform: scaleY(-1);
      filter: FlipV;
      -ms-filter: "FlipV";
    }

  }

}



.mixin-tiny-nav-slide(){
  @blob-bar-scale: .4;

  .nav-bar-slide{
    background: @blob-bar-background;
    background-size: auto 100%;
    height: calc(@blob-bar-scale * @blob-bar-height);
    width: calc(@blob-bar-scale * 7 * @blob-bar-width);

    @keyframes tiny-slideleft {
      from {
        left: 0px;
      }
      to {
        left: calc(@blob-bar-scale * -@blob-bar-width);
      }
    }

    &.mod-top{
      top: calc(@blob-bar-scale * -@blob-bar-offset);
      animation-name: tiny-slideleft;
    }


    @keyframes tiny-slideright {
      from {
        left: calc(@blob-bar-scale * -@blob-bar-width);
      }
      to {
        left: 0px;
      }
    }

    &.mod-bottom{
      left: calc(@blob-bar-scale * -@blob-bar-width);
      bottom: calc(@blob-bar-scale * -@blob-bar-offset);

      animation-name: tiny-slideright;
    }
  }
}


/* when scrolling past, get a tiny nav */
.nav-bar{
  &.position-bottom,&.position-top{
    .mixin-tiny-nav-slide;
  }
}

/* when mobile, get a tiny nav all the time */
@media (max-width: @breakpoint-mobile) {
  .nav-bar{
    .mixin-tiny-nav-slide;
  }
}